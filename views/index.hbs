<h1>{{title}}</h1>
<p>Welcome to {{title}}</p>


<h1>Create New Place</h1>
 
<div id="map"></div>
<button id="where-am-i">Where am I?</button>

<form method="GET" action="/place/search">


  <label for="input-distance">Set distance</label>
  <input id="input-distance" type="range" name="distance" min="0" max="10000" step="1000"/>


  <label for="input-latitude">Place Latitude</label>
  <input id="input-latitude" type="number" name="latitude" placeholder="Latitude" min="-90" max="90" step="any"/>

  <label for="input-longitude">Place Longitude</label>
  <input id="input-longitude" type="number" name="longitude" placeholder="longitude" min="-180" max="180" step="any"/>

  <button>Find places!</button>
</form>

<script>
  const whereAmITrigger = document.getElementById('where-am-i');
  const latitudeInput = document.getElementById('input-latitude');
  const longitudeInput = document.getElementById('input-longitude');

  const getUSerLocation = (options) => new Promise ((resolve, reject) => navigator.geolocation.getCurrentPosition(resolve, reject, options))

  whereAmITrigger.addEventListener('click', () => {
    getUSerLocation()
    .then(location) => {
      
      const latitude = location.coords.latitude;
      const longitude = location.coords.longitude;

      latitudeInput.value = latitude;
      longitudeInput.value = longitude;

    }.catch(error) => {
      console.log('There was an error');
      console.log(error);
    }

  })

</script>